============================= test session starts ==============================
platform darwin -- Python 3.12.12, pytest-9.0.2, pluggy-1.6.0 -- /Users/bodoi17/projects/tmcp-agent-project-managmet/.venv/bin/python
cachedir: .pytest_cache
rootdir: /Users/bodoi17/projects/tmcp-agent-project-managmet/backend
configfile: pyproject.toml
plugins: anyio-4.12.1, asyncio-1.3.0, langsmith-0.7.3
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 34 items

backend/tests/test_agent_nodes.py::TestExtractJson::test_plain_json PASSED [  2%]
backend/tests/test_agent_nodes.py::TestExtractJson::test_json_in_code_block PASSED [  5%]
backend/tests/test_agent_nodes.py::TestExtractJson::test_json_with_preamble PASSED [  8%]
backend/tests/test_agent_nodes.py::TestExtractJson::test_empty_content PASSED [ 11%]
backend/tests/test_agent_nodes.py::TestExtractJson::test_invalid_json PASSED [ 14%]
backend/tests/test_agent_nodes.py::TestExtractJson::test_json_in_generic_code_block PASSED [ 17%]
backend/tests/test_agent_nodes.py::TestBuildContextBlock::test_empty_state PASSED [ 20%]
backend/tests/test_agent_nodes.py::TestBuildContextBlock::test_with_project_context PASSED [ 23%]
backend/tests/test_agent_nodes.py::TestBuildContextBlock::test_with_all_fields PASSED [ 26%]
backend/tests/test_agent_nodes.py::TestBuildContextBlock::test_truncates_large_context PASSED [ 29%]
backend/tests/test_agent_nodes.py::TestBuildContextBlock::test_skips_empty_code_context PASSED [ 32%]
backend/tests/test_agent_nodes.py::TestGetProjectOverview::test_nonexistent_path PASSED [ 35%]
backend/tests/test_agent_nodes.py::TestGetProjectOverview::test_real_path PASSED [ 38%]
backend/tests/test_agent_nodes.py::TestGetDirectoryTree::test_basic_tree PASSED [ 41%]
backend/tests/test_agent_nodes.py::TestGetDirectoryTree::test_ignores_hidden_dirs PASSED [ 44%]
backend/tests/test_agent_nodes.py::TestRouterNode::test_mock_returns_feature PASSED [ 47%]
backend/tests/test_agent_nodes.py::TestContextRetrieverNode::test_no_repo_path PASSED [ 50%]
backend/tests/test_agent_nodes.py::TestContextRetrieverNode::test_nonexistent_repo_path PASSED [ 52%]
backend/tests/test_agent_nodes.py::TestContextRetrieverNode::test_real_repo_path PASSED [ 55%]
backend/tests/test_agent_nodes.py::TestFastTrackAgentNode::test_mock_returns_all_keys PASSED [ 58%]
backend/tests/test_agent_nodes.py::TestPmAgentNode::test_mock_returns_spec PASSED [ 61%]
backend/tests/test_agent_nodes.py::TestTechLeadNode::test_mock_returns_all_keys PASSED [ 64%]
backend/tests/test_agent_nodes.py::TestGraphRouting::test_feature_routes_to_pm PASSED [ 67%]
backend/tests/test_agent_nodes.py::TestGraphRouting::test_bug_routes_to_pm PASSED [ 70%]
backend/tests/test_agent_nodes.py::TestGraphRouting::test_research_routes_to_fast_track PASSED [ 73%]
backend/tests/test_agent_nodes.py::TestGraphRouting::test_chore_routes_to_fast_track PASSED [ 76%]
backend/tests/test_api_projects.py::test_create_project PASSED           [ 79%]
backend/tests/test_api_projects.py::test_read_projects PASSED            [ 82%]
backend/tests/test_api_tasks.py::test_create_task PASSED                 [ 85%]
backend/tests/test_api_tasks.py::test_update_task_status_trigger_agent PASSED [ 88%]
backend/tests/test_api_tasks.py::test_read_task_logs PASSED              [ 91%]
backend/tests/test_api_workspaces.py::test_create_workspace PASSED       [ 94%]
backend/tests/test_api_workspaces.py::test_read_workspaces PASSED        [ 97%]
backend/tests/test_persistence.py::test_agent_persistence PASSED         [100%]

=============================== warnings summary ===============================
backend/app/core/config.py:5
  /Users/bodoi17/projects/tmcp-agent-project-managmet/backend/app/core/config.py:5: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Settings(BaseSettings):

backend/app/main.py:19
  /Users/bodoi17/projects/tmcp-agent-project-managmet/backend/app/main.py:19: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("startup")

.venv/lib/python3.12/site-packages/fastapi/applications.py:4573
.venv/lib/python3.12/site-packages/fastapi/applications.py:4573
  /Users/bodoi17/projects/tmcp-agent-project-managmet/.venv/lib/python3.12/site-packages/fastapi/applications.py:4573: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    return self.router.on_event(event_type)

backend/app/main.py:24
  /Users/bodoi17/projects/tmcp-agent-project-managmet/backend/app/main.py:24: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("shutdown")

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 34 passed, 5 warnings in 0.10s ========================
